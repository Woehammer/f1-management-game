<!DOCTYPE html><html>
<head>
  <title>PR Department - F1 Management Game</title>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <style>
    body {
      font-family: sans-serif;
      background-color: #f5f5f5;
      padding: 20px;
    }
    h1 {
      color: #d32f2f;
      text-align: center;
    }
    .section {
      background-color: white;
      border-radius: 8px;
      padding: 20px;
      margin: 20px auto;
      max-width: 700px;
      box-shadow: 0 2px 8px rgba(0,0,0,0.1);
    }
    button {
      background-color: #1976d2;
      color: white;
      padding: 10px 20px;
      margin: 5px;
      border: none;
      border-radius: 5px;
      font-size: 16px;
      cursor: pointer;
    }
    button:hover {
      background-color: #1565c0;
    }
    .sponsor-slot {
      display: flex;
      justify-content: space-between;
      margin-bottom: 10px;
    }
  </style>
</head>
<body>
  <h1>PR Department</h1>  <div class="section">
    <h2>Reputation</h2>
    <p>Your team reputation score: <strong><span id="reputation">Loading...</span></strong></p>
    <p>Host weekly media events to boost your reputation.</p>
  </div>  <div class="section">
    <h2>Sponsor Slots</h2><div id="sponsorSlots"></div>

  </div>  <!-- Sponsor Modal -->  <div id="sponsorModal" class="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0,0,0,0.5);">
    <div class="modal-content" style="max-width: 500px; margin: 10% auto; background: #fff; padding: 20px; border-radius: 8px;">
      <h3>Available Sponsors</h3>
      <div id="sponsorOptions"></div>
      <button onclick="closeSponsorModal()">Cancel</button>
    </div>
  </div>  <script>
    const locations = [
      "Front Wing", "Rear Wing", "Side Pod", "Engine Cover"
    ];

    const sponsors = [
      { name: "TechCorp", signingFee: 10, perRaceFee: 5, bonusCondition: "Top 5 finish", bonusPayout: 10, contractLength: 5 },
      { name: "ZoomFuel", signingFee: 8, perRaceFee: 4, bonusCondition: "Score 20 points in 3 races", bonusPayout: 6, contractLength: 3 },
      { name: "RacerEdge", signingFee: 12, perRaceFee: 6, bonusCondition: "1 podium", bonusPayout: 8, contractLength: 4 }
    ];

    let selectedSlotKey = "";

    function loadReputation() {
      const rep = localStorage.getItem("f1TeamReputation") || 50;
      document.getElementById("reputation").innerText = rep;
    }

    function loadSponsorSlots() {
      const container = document.getElementById("sponsorSlots");
      container.innerHTML = "";

      locations.forEach(location => {
        ["Primary", "Secondary 1", "Secondary 2"].forEach(type => {
          const slotKey = `${location} - ${type}`;
          const data = JSON.parse(localStorage.getItem(`f1Sponsor_${slotKey}`)) || null;

          const div = document.createElement("div");
          div.className = "sponsor-slot";
          div.innerHTML = `
            <span><strong>${slotKey}:</strong> ${data ? data.name + ` (${data.remaining} races left)` : "Empty"}</span>
            <button onclick="openSponsorModal('${slotKey}')">${data ? "View" : "Choose"}</button>
          `;
          container.appendChild(div);
        });
      });
    }

    function openSponsorModal(slotKey) {
      selectedSlotKey = slotKey;
      document.getElementById("sponsorModal").style.display = "block";

      const options = document.getElementById("sponsorOptions");
      options.innerHTML = "";
      sponsors.forEach(sponsor => {
        const btn = document.createElement("button");
        btn.innerText = `${sponsor.name} - $${sponsor.signingFee}M signing`;
        btn.onclick = () => signSponsor(sponsor);
        options.appendChild(btn);
      });
    }

    function closeSponsorModal() {
      document.getElementById("sponsorModal").style.display = "none";
    }

    function signSponsor(sponsor) {
      const save = JSON.parse(localStorage.getItem("f1GameSaveSlot1"));
      if (!save || save.balance < sponsor.signingFee) {
        alert("Not enough funds to sign sponsor!");
        return;
      }

      save.balance -= sponsor.signingFee;
      localStorage.setItem("f1GameSaveSlot1", JSON.stringify(save));
      localStorage.setItem(`f1Sponsor_${selectedSlotKey}`, JSON.stringify({
        name: sponsor.name,
        remaining: sponsor.contractLength,
        perRaceFee: sponsor.perRaceFee,
        bonusCondition: sponsor.bonusCondition,
        bonusPayout: sponsor.bonusPayout
      }));

      alert(`${sponsor.name} signed to ${selectedSlotKey}`);
      closeSponsorModal();
      loadSponsorSlots();
    }

    window.onload = function () {
      loadReputation();
      loadSponsorSlots();
    };
  </script></body>
</html>
